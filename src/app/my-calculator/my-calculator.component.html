<div class="calculator">

    <ng-container *ngFor="let group of calcGroups; let i = index">
        <div class="flex-container--v">
            <div class="inputs flex-container">
                <select class="select__modifier" [(ngModel)]="group.first.modifier">
                    <option [value]="modificator.value" *ngFor="let modificator of calcModifiers | keyvalue">
                        {{ modificator.value }}
                    </option>
                </select>
                <input type="text" class="calculator__input" [(ngModel)]="group.first.value">

                <select [(ngModel)]="group.operation">
                    <option [value]="operation.value" *ngFor="let operation of calcOperations | keyvalue">
                        {{ operation.value }}
                    </option>
                </select>
                <input type="text" class="calculator__input" [(ngModel)]="group.second.value">
                <select class="select__modifier" [(ngModel)]="group.second.modifier">
                    <option [value]="modificator.value" *ngFor="let modificator of calcModifiers | keyvalue">
                        {{ modificator.value }}
                    </option>
                </select>
            </div>
        </div>
        <button class="btn btn__danger" (click)="removeGroup(i)" *ngIf="calcGroups.length > 1">Delete</button>
        <select class="select__group-modifier" [(ngModel)]="operationsBetweenGroups[i]"
            *ngIf="operationsBetweenGroups.length > i">
            <option [value]="operation.value" *ngFor="let operation of calcOperations | keyvalue">
                {{ operation.value }}
            </option>
        </select>
    </ng-container>

    <div class="result">{{ result ? result : 'Tap to result'}}</div>
    <div class="flex-container calc__buttons">
        <button class="btn btn__primary btn__result" (click)="calcGroup()">Get Result</button>
        <button class="btn btn__subprimary" (click)="addGroup()">Add Value</button>
    </div>
    <!-- <h2></h2> -->
</div>

<div class="box history">
    <div class="flex-container">
        <span>History of content</span>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M3 12C3 13.78 3.52784 15.5201 4.51677 17.0001C5.50571 18.4802 6.91131 19.6337 8.55585 20.3149C10.2004 20.9961 12.01 21.1743 13.7558 20.8271C15.5016 20.4798 17.1053 19.6226 18.364 18.364C19.6226 17.1053 20.4798 15.5016 20.8271 13.7558C21.1743 12.01 20.9961 10.2004 20.3149 8.55585C19.6337 6.91131 18.4802 5.50571 17.0001 4.51677C15.5201 3.52784 13.78 3 12 3C9.48395 3.00947 7.06897 3.99122 5.26 5.74L3 8M3 8V3M3 8H8M12 7V12L16 14"
                stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </div>

    <hr>

    <div class="history-container">
        <span *ngFor="let obj of history; let i = index"><span class="history-number">{{ i + 1 }}</span> {{ obj }}
            <br></span>
        <!-- <h2 class="history-operation">2 + 2</h2>
        <div class="flex-container">
            <p class="history-result">= {{result}}</p>
            <span class="history-time">{{currentTime}}</span>
        </div> -->
    </div>
</div>